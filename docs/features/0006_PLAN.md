# Plan: Documentation Section

## Description

Implement a new Documentation section in the application that displays all PDF documents from `docs/documentation/`. The section should provide users with easy access to all company policies, procedures, and compliance documents, allowing them to view and download PDFs directly from the application.

## Documents to Include

All PDF files from `docs/documentation/` directory:

1. Nihao_Carbon_01_Client_Agreement_Terms_of_Business.pdf
2. Nihao_Carbon_02_Best_Execution_Policy.pdf
3. Nihao_Carbon_03_Conflicts_of_Interest_Policy.pdf
4. Nihao_Carbon_04_Complaints_Handling_Procedure.pdf
5. Nihao_Carbon_05_Risk_Disclosure_Statement.pdf
6. Nihao_Carbon_06_Privacy_Policy_GDPR.pdf
7. Nihao_Carbon_07_Business_Continuity_Plan.pdf
8. Nihao_Carbon_08_Client_Onboarding_Form.pdf
9. Nihao_Carbon_09_Order_Execution_Policy.pdf
10. Nihao_Carbon_10_Market_Abuse_Policy.pdf
11. Nihao_Carbon_11_Remuneration_Policy.pdf
12. Nihao_Carbon_12_Product_Governance_Policy.pdf
13. Nihao_Carbon_13_Suitability_Appropriateness_Policy.pdf
14. Nihao_Carbon_14_Outsourcing_Policy.pdf
15. Nihao_Carbon_15_Code_of_Ethics.pdf
16. Nihao_Carbon_16_Record_Keeping_Policy.pdf
17. Nihao_Carbon_17_Information_Security_Policy.pdf
18. Nihao_Carbon_18_Transaction_Reporting_Policy.pdf
19. Nihao_Carbon_Certificates_KYC_AML_Compliance_Procedure.pdf

## Files to Create/Modify

### New Files

1. **`src/pages/Documentation.tsx`**
   - Main page component for the documentation section
   - Display list/grid of all PDF documents
   - Each document card should show:
     - Document title (extracted from filename or hardcoded mapping)
     - Document number (for numbered documents)
     - Category/type (Policy, Procedure, Form, etc.)
     - Download button
     - View button (opens PDF in new tab or embedded viewer)
   - Support search/filter functionality
   - Responsive grid layout (1 column mobile, 2-3 columns desktop)
   - Dark mode support following existing patterns

2. **`src/data/documentation.ts`**
   - TypeScript file containing metadata for all documents
   - Define document structure with:
     - `id`: unique identifier
     - `filename`: PDF filename
     - `title`: Display title (translated)
     - `category`: Document category (Policy, Procedure, Form, Compliance)
     - `number`: Document number (for numbered series)
     - `description`: Brief description (translated)
   - Export array of document objects

### Files to Modify

1. **`src/App.tsx`**
   - Add lazy import for Documentation page: `const Documentation = lazy(() => import('./pages/Documentation'));`
   - Add route: `/documentation` with ProtectedRoute wrapper
   - Follow existing route pattern (lines 48-82)

2. **`src/components/Header.tsx`**
   - Add "Documentation" navigation link in desktop navigation (after "About" link, around line 110-120)
   - Add "Documentation" link in mobile menu (after "About" link, around line 351-362)
   - Use translation key `documentation` for label
   - Follow existing link styling patterns with active state detection

3. **`src/i18n/locales/en.ts`**
   - Add translation keys:
     - `documentation`: "Documentation"
     - `documentationTitle`: "Documentation"
     - `documentationSubtitle`: "Access all company policies, procedures, and compliance documents"
     - `documentTitle`: "Document Title"
     - `documentCategory`: "Category"
     - `downloadDocument`: "Download"
     - `viewDocument`: "View"
     - `searchDocuments`: "Search documents..."
     - `allCategories`: "All Categories"
     - `categoryPolicy`: "Policy"
     - `categoryProcedure`: "Procedure"
     - `categoryForm`: "Form"
     - `categoryCompliance`: "Compliance"
     - `noDocumentsFound`: "No documents found"
     - Document-specific titles (e.g., `doc01Title`, `doc02Title`, etc.)

4. **`src/i18n/locales/ro.ts`**
   - Add same translation keys with Romanian translations

5. **`src/i18n/locales/zh.ts`**
   - Add same translation keys with Chinese translations

## Implementation Details

### PDF Serving Strategy

#### Option 1: Public Folder (Recommended)

- Copy PDF files to `public/documentation/` directory
- Access via `/documentation/{filename}.pdf` URLs
- Simple and works with Vite's static asset serving
- PDFs will be included in build output

#### Option 2: Backend API

- Serve PDFs through backend API endpoint
- More control but requires backend changes
- Not recommended unless specific requirements exist

**Decision**: Use Option 1 - Copy PDFs to `public/documentation/` for simplicity and performance.

### Document Metadata Structure

```typescript
interface Document {
  id: string;
  filename: string;
  titleKey: string; // i18n key for title
  descriptionKey: string; // i18n key for description
  category: 'Policy' | 'Procedure' | 'Form' | 'Compliance';
  number?: number; // For numbered documents (01-18)
  path: string; // Relative path from public folder
}
```

### UI/UX Requirements

1. **Layout**
   - Hero section with title and subtitle (similar to About page)
   - Search bar at top
   - Category filter buttons/chips
   - Grid of document cards
   - Responsive: 1 column mobile, 2 columns tablet, 3 columns desktop

2. **Document Card**
   - Card background: `bg-white dark:bg-gray-800`
   - Shadow: `shadow-md dark:shadow-gray-900/50`
   - Display document number (if applicable) as badge
   - Document title (from translation)
   - Category badge/tag
   - Brief description (optional, can be truncated)
   - Action buttons: View (primary) and Download (secondary)
   - Hover effects for better interactivity

3. **Search and Filter**
   - Search input filters by title/description
   - Category filter buttons filter by document category
   - "All Categories" button to reset filter
   - Clear search button when search is active

4. **PDF Viewing**
   - View button opens PDF in new browser tab (`target="_blank"`)
   - Download button triggers browser download
   - Both use same PDF URL from public folder

5. **Dark Mode**
   - Full dark mode support following existing patterns
   - Use Tailwind `dark:` variants for all colors
   - Ensure PDF viewer (browser default) works in both themes

### Document Title Mapping

Create human-readable titles for each document:

1. Client Agreement & Terms of Business
2. Best Execution Policy
3. Conflicts of Interest Policy
4. Complaints Handling Procedure
5. Risk Disclosure Statement
6. Privacy Policy (GDPR)
7. Business Continuity Plan
8. Client Onboarding Form
9. Order Execution Policy
10. Market Abuse Policy
11. Remuneration Policy
12. Product Governance Policy
13. Suitability & Appropriateness Policy
14. Outsourcing Policy
15. Code of Ethics
16. Record Keeping Policy
17. Information Security Policy
18. Transaction Reporting Policy
19. KYC & AML Compliance Procedure

### Styling Consistency

- Follow existing page patterns from `About.tsx`
- Use same color scheme (primary-600, primary-700, etc.)
- Use same spacing and typography patterns
- Use same card styling patterns
- Ensure accessibility (ARIA labels, keyboard navigation)

## Algorithm: Document Filtering

1. **Initial State**
   - All documents displayed
   - No search query
   - No category filter selected

2. **Search Filter**
   - User types in search input
   - Filter documents where:
     - Title (translated) contains search query (case-insensitive)
     - OR description (translated) contains search query (case-insensitive)
   - Update displayed documents in real-time

3. **Category Filter**
   - User clicks category button/chip
   - Filter documents where `document.category === selectedCategory`
   - If "All Categories" selected, show all documents
   - Can combine with search filter (AND logic)

4. **Combined Filters**
   - Apply search filter first
   - Then apply category filter to search results
   - Show "No documents found" message if no matches

## File Structure

```text
src/
  pages/
    Documentation.tsx (new)
  data/
    documentation.ts (new)
  i18n/
    locales/
      en.ts (modify)
      ro.ts (modify)
      zh.ts (modify)
public/
  documentation/ (new directory)
    Nihao_Carbon_01_Client_Agreement_Terms_of_Business.pdf
    Nihao_Carbon_02_Best_Execution_Policy.pdf
    ... (all 19 PDFs)
```

## Steps

1. Create `public/documentation/` directory and copy all PDFs from `docs/documentation/`
2. Create `src/data/documentation.ts` with document metadata
3. Create `src/pages/Documentation.tsx` component
4. Add route in `src/App.tsx`
5. Add navigation links in `src/components/Header.tsx`
6. Add translations to all three locale files (`en.ts`, `ro.ts`, `zh.ts`)
7. Test functionality:
   - Document display
   - Search functionality
   - Category filtering
   - PDF viewing/downloading
   - Dark mode
   - Responsive layout
   - Translations

## Notes

- PDFs should be accessible without authentication (via public folder) but the Documentation page itself should be protected (require authentication)
- Consider adding document icons or thumbnails in future iterations
- PDFs are large files - ensure they're properly optimized or consider lazy loading
- Follow existing code patterns and conventions from the codebase
- Ensure all text is translatable via i18n system
- Maintain consistency with existing UI/UX patterns
