# Feature 0009: Redesign Login Page - Minimalist Partner Selection

## Description

Redesign the login page to be very discrete, modern, elegant, and minimalist. The page will display only the company logo and two buttons: "Existing partner" and "Become a partner". When clicking "Existing partner", the username and password fields will appear for authentication. When clicking "Become a partner", the onboarding process will start.

## Files to Modify

### 1. `src/pages/Login.tsx`
- **Current State**: Displays login form directly with username/password fields, title, subtitle, and demo credentials section
- **Changes Required**:
  - Replace the current form-first layout with a minimalist centered design
  - Add state management to track which button was clicked (`'existing' | 'become' | null`)
  - Conditionally render login form only when "Existing partner" is clicked
  - Use Logo component for company branding (centered, appropriately sized)
  - Implement two primary action buttons with elegant styling
  - Maintain existing authentication logic when form is submitted
  - Remove or hide demo credentials section (or make it more discrete)
  - Ensure full dark mode support with appropriate color schemes
  - Add smooth transitions/animations for showing/hiding the login form

### 2. `src/i18n/locales/en.ts` (and ro.ts, zh.ts)
- **New Translation Keys Required**:
  - `existingPartner`: "Existing partner"
  - `becomePartner`: "Become a partner"
  - `backToOptions`: "Back" (for returning to button selection after clicking existing partner)
- **Optional Keys** (if needed for better UX):
  - `loginSubtitle`: Can be updated or removed for minimalist design
  - `selectPartnerType`: "Select your partner type" (if needed as a subtle hint)

### 3. `src/App.tsx` (Potential Change)
- **Current State**: OnboardingRoute requires authentication (`isAuthenticated` check)
- **Consideration**: If "Become a partner" should allow unauthenticated users to start onboarding, the `OnboardingRoute` component may need adjustment. However, based on the current KYC flow where `/api/kyc/register` accepts `user_id` in body, authentication might still be required. This should be verified during implementation.
- **Decision Point**: Determine if onboarding can start without authentication or if users need to authenticate first before onboarding

## Design Specifications

### Layout Structure
1. **Centered Container**: Full-screen centered layout with minimal padding
2. **Logo**: Company logo displayed prominently at the top (using Logo component)
3. **Button Group**: Two buttons displayed vertically or horizontally (prefer vertical for mobile-first, elegant spacing)
4. **Login Form**: Appears below buttons when "Existing partner" is clicked, with smooth transition
5. **Back Option**: Subtle back button/link to return to partner selection

### Visual Design Principles
- **Minimalism**: Remove all non-essential elements (subtitles, demo credentials prominently displayed)
- **Elegance**: Use subtle shadows, refined typography, generous whitespace
- **Discretion**: Muted color palette, subtle borders, minimal visual noise
- **Modern**: Clean lines, smooth transitions, contemporary button styles

### Color Scheme
- **Background**: `bg-gray-50 dark:bg-gray-900` (minimal, neutral)
- **Buttons**: Primary color for "Existing partner", secondary/outline style for "Become a partner" (or vice versa based on hierarchy)
- **Form**: When shown, maintain current form styling with dark mode support
- **Text**: Subtle gray tones, high contrast for accessibility

### Responsive Behavior
- **Mobile**: Vertical button layout, full-width buttons, appropriate touch targets
- **Desktop**: Centered container with max-width constraint, elegant spacing
- **Tablet**: Balanced between mobile and desktop layouts

## Implementation Details

### State Management
```typescript
const [partnerType, setPartnerType] = useState<'existing' | 'become' | null>(null);
```

### Button Click Handlers
1. **Existing Partner**: Set `partnerType` to `'existing'` to show login form
2. **Become Partner**: Navigate to `/onboarding` using `useNavigate()` hook

### Form Display Logic
- When `partnerType === 'existing'`: Render login form with username/password fields
- When `partnerType === null`: Show only logo and two buttons
- When `partnerType === 'become'`: Navigate away (handled by button click)

### Navigation Flow
- **Existing Partner Flow**: Login → Dashboard (if authenticated and KYC approved) or Onboarding (if authenticated but KYC not approved)
- **Become Partner Flow**: Login Page → Onboarding Page (may require authentication check)

### Animation/Transitions
- Use CSS transitions or Tailwind's transition utilities for smooth form appearance
- Consider fade-in or slide-down animation for login form
- Button hover states should be subtle and elegant

## Technical Considerations

### Component Dependencies
- **Logo Component**: Must use `<Logo />` from `src/components/Logo.tsx` (not direct image references)
- **useAuth Hook**: Maintain existing authentication logic
- **useNavigate Hook**: For navigation to onboarding
- **useTranslation Hook**: For i18n support

### Dark Mode Support
- All elements must include `dark:` variants
- Logo component automatically handles theme switching
- Form inputs maintain current dark mode styling
- Buttons must have appropriate dark mode styles

### Accessibility
- Maintain keyboard navigation (Tab order: Logo → Existing Partner → Become Partner → Username → Password → Submit)
- Proper ARIA labels for buttons and form
- Focus states clearly visible
- Screen reader friendly

### Error Handling
- Maintain existing error display logic
- Error messages should appear below form when shown
- Consider subtle error styling that matches minimalist aesthetic

## Algorithm/Flow

### Initial State
1. User lands on `/login`
2. Page displays: Logo (centered) + Two buttons (centered, vertical stack)
3. No form visible initially

### Existing Partner Flow
1. User clicks "Existing partner" button
2. `partnerType` state set to `'existing'`
3. Login form smoothly appears below buttons (or replaces button view)
4. User enters credentials and submits
5. Authentication logic executes (existing `handleSubmit` function)
6. On success: Navigate to dashboard or onboarding based on KYC status
7. On error: Display error message (subtle, minimalist styling)

### Become Partner Flow
1. User clicks "Become a partner" button
2. Navigate to `/onboarding` route
3. Onboarding page handles the registration/onboarding process
4. **Note**: May require authentication first - this needs verification during implementation

### Back Navigation
- When login form is visible, provide subtle "Back" option to return to partner selection
- Reset `partnerType` to `null` when back is clicked

## Consistency Requirements

### Design System
- Use existing Tailwind classes and design tokens
- Follow current color scheme (primary-600, gray scales)
- Maintain spacing consistency with rest of application
- Use existing button styles as base, refine for elegance

### Code Style
- Follow existing React patterns (functional components, hooks)
- Maintain TypeScript typing
- Use existing i18n patterns
- Follow existing file structure

### Browser Support
- Ensure smooth transitions work across modern browsers
- Fallback for browsers without CSS transition support
- Test responsive behavior on various screen sizes

## Testing Considerations

### User Flows to Test
1. Initial page load - should show logo and buttons only
2. Click "Existing partner" - form should appear smoothly
3. Submit valid credentials - should authenticate and redirect
4. Submit invalid credentials - should show error
5. Click "Back" from form - should return to button selection
6. Click "Become a partner" - should navigate to onboarding
7. Dark mode toggle - all elements should adapt correctly
8. Responsive behavior - test on mobile, tablet, desktop

### Edge Cases
- Already authenticated user visiting `/login` - should redirect (existing logic)
- Form submission during loading state - should prevent double submission
- Navigation during form transition - should handle gracefully

## Notes

- The minimalist design should prioritize elegance and discretion over information density
- Consider removing or significantly reducing the demo credentials display for a cleaner look
- The onboarding route authentication requirement should be verified - if onboarding can start without auth, OnboardingRoute may need modification
- All existing functionality (authentication, error handling, redirects) must be preserved
- The design should feel premium and professional, matching the institutional nature of the platform

