# Plan Feature: Display Document Name and Upload Confirmation in Onboarding

## Description

Enhance the document upload interface in the onboarding process to display the document name during upload and provide clear confirmation that the document has been successfully uploaded. Currently, the upload progress only shows "Uploading... X%" without the filename, and the success confirmation disappears after 3 seconds.

## Current Implementation

### Frontend Component
- **File**: `src/components/onboarding/DocumentUpload.tsx`
- **Current behavior**:
  - Lines 48-50: Uses `uploadingFiles` Set to track files by ID (`fileId = ${file.name}-${file.size}-${Date.now()}`)
  - Lines 385-396: During upload, displays "Uploading... X%" without showing the filename
  - Lines 414-428: Shows temporary success message with filename that disappears after 3 seconds (line 107)
  - Lines 263-354: Displays uploaded documents in a list after upload completes

### Upload Flow
1. User selects/drops file(s)
2. File validation occurs
3. Upload starts - shows progress bar with "Uploading... X%" (no filename)
4. Upload completes - shows temporary success message with filename (3 seconds)
5. Document appears in the existing documents list

## Changes Required

### 1. Track Filenames During Upload

**File**: `src/components/onboarding/DocumentUpload.tsx`

**Change**: Modify state management to track filenames alongside file IDs.

- **Line 48**: Change `uploadingFiles` from `Set<string>` to `Map<string, string>` or add separate state to track filename for each uploading file
  - Key: fileId
  - Value: filename
- **Line 94**: When adding file to `uploadingFiles`, also store the filename
- **Line 112-120**: When removing file from `uploadingFiles`, also remove the filename

### 2. Display Filename During Upload

**File**: `src/components/onboarding/DocumentUpload.tsx`

**Change**: Update the upload progress display to show the filename.

- **Lines 385-396**: Modify the upload progress section to:
  - Display the filename(s) being uploaded
  - Show "Uploading [filename]... X%" instead of just "Uploading... X%"
  - Handle multiple simultaneous uploads by showing all filenames or the current one
  - If multiple files are uploading, show list of filenames or "Uploading X files..."

### 3. Enhance Upload Confirmation

**File**: `src/components/onboarding/DocumentUpload.tsx`

**Change**: Make the upload confirmation more visible and informative.

- **Lines 414-428**: Enhance the success message to:
  - Show the document name more prominently
  - Include a checkmark icon (already present)
  - Optionally extend the display duration or make it dismissible
  - Ensure the message is clearly visible before the document appears in the list

### 4. Ensure Document Name Visibility in List

**File**: `src/components/onboarding/DocumentUpload.tsx`

**Change**: Verify that uploaded documents clearly show the filename.

- **Lines 263-354**: The existing documents list already displays `doc.file_name` (line 306)
- Ensure the document name is prominently displayed and easily readable
- Consider highlighting newly uploaded documents temporarily

## Implementation Details

### State Management
- Track uploading files with their filenames: `Map<string, string>` where key is fileId and value is filename
- Or use separate state: `const [uploadingFileNames, setUploadingFileNames] = useState<Map<string, string>>(new Map())`

### UI Updates
- Upload progress area should show: "Uploading [filename]... X%" or list multiple filenames if uploading multiple files
- Success message should prominently display the filename with confirmation
- Newly uploaded documents in the list should be clearly identifiable

### User Experience Flow
1. User selects/drops file(s)
2. File validation occurs
3. Upload starts - shows progress bar with "Uploading [filename]... X%"
4. Upload completes - shows prominent success message: "[filename] uploaded successfully"
5. Document appears in the existing documents list with filename clearly visible

## Files to Modify

1. `src/components/onboarding/DocumentUpload.tsx`
   - Update state management for tracking filenames during upload
   - Modify upload progress display (lines 385-396)
   - Enhance success message display (lines 414-428)
   - Verify document name display in list (lines 263-354)

## Testing Considerations

- Test single file upload with filename display
- Test multiple file uploads with multiple filenames displayed
- Verify success message appears and is readable
- Verify document name is visible in the uploaded documents list
- Test with long filenames to ensure proper truncation/display
- Test dark mode styling for all new elements

